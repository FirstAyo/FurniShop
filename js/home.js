document.addEventListener("DOMContentLoaded", async () => { const grid = document.getElementById("home-grid"); try { const products = await getProducts(); const picks = products.slice(0, 8); picks.forEach(p => { const el = document.createElement("article"); el.className = "card"; el.innerHTML = ` <img src="${p.images[0]}" alt="${p.name}"> <div class="p-16"> <h3><a href="product.html?id=${p.id}">${p.name}</a></h3> <div class="price">${Shop.money(p.price)}</div> <button class="icon-btn add">Add</button> </div>`; el.querySelector(".add").addEventListener("click", ()=>Shop.addToCart({id:p.id, price:p.price, name:p.name, qty:1})); grid.appendChild(el); }); } catch (e) { grid.innerHTML = `<div class="alert">${e.message}</div>`; } });