document.addEventListener("DOMContentLoaded", async () => { const list = document.getElementById("review-items"); const total = document.getElementById("review-total"); const cart = JSON.parse(localStorage.getItem("cart") || "[]"); const products = await getProducts(); let sum = 0; list.innerHTML = ""; cart.forEach(c => { const p = products.find(x => x.id === c.id) || {name: "Item"}; const li = document.createElement("li"); li.textContent = `${p.name} Ã— ${c.qty}`; list.appendChild(li); sum += (c.price || 0) * c.qty; }); total.textContent = Shop.money(sum); document.getElementById("place-order").addEventListener("click", () => { alert("Order placed! (demo)"); localStorage.removeItem("cart"); location.href = "index.html"; }); });